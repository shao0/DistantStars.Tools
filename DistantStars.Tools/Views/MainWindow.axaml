<Window
    x:Class="DistantStars.Tools.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="using:Avalonia.Data.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:DistantStars.Tools.ViewModels"
    Title="文件夹比较和复制工具"
    Width="600"
    Height="500"
    Padding="10"
    d:DesignHeight="500"
    d:DesignWidth="600"
    x:DataType="vm:MainWindowViewModel"
    Icon="/Assets/avalonia-logo.ico"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <Design.DataContext>
        <vm:MainWindowViewModel />
    </Design.DataContext>

    <Grid
        Margin="20"
        RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto,*">
        <TextBlock
            Grid.Row="0"
            HorizontalAlignment="Center"
            FontSize="20"
            Text="文件夹比较和复制工具" />

        <!--  文件夹1路径  -->
        <TextBlock
            Grid.Row="1"
            Text="文件夹1路径:" />
        <DockPanel Grid.Row="2">
            <Button
                Margin="10,0,0,0"
                Command="{Binding SelectFolder1Command}"
                Content="浏览"
                DockPanel.Dock="Right" />
            <Button
                Margin="10,0,0,0"
                Command="{Binding OpenFolder1Command}"
                Content="打开"
                DockPanel.Dock="Right" />
            <TextBox
                Text="{Binding Folder1Path}"
                Watermark="输入文件夹1的路径" />
        </DockPanel>

        <!--  文件夹2路径  -->
        <TextBlock
            Grid.Row="3"
            Text="文件夹2路径:" />
        <DockPanel Grid.Row="4">
            <Button
                Margin="10,0,0,0"
                Command="{Binding SelectFolder2Command}"
                Content="浏览"
                DockPanel.Dock="Right" />
            <Button
                Margin="10,0,0,0"
                Command="{Binding OpenFolder2Command}"
                Content="打开"
                DockPanel.Dock="Right" />
            <TextBox
                Grid.Column="0"
                Text="{Binding Folder2Path}"
                Watermark="输入文件夹2的路径" />
        </DockPanel>

        <!--  文件夹3路径  -->

        <TextBlock
            Grid.Row="5"
            Text="文件夹3路径:" />
        <DockPanel Grid.Row="6">
            <Button
                Margin="10,0,0,0"
                Command="{Binding SelectFolder3Command}"
                Content="浏览"
                DockPanel.Dock="Right" />
            <Button
                Margin="10,0,0,0"
                Command="{Binding OpenFolder3Command}"
                Content="打开"
                DockPanel.Dock="Right" />
            <TextBox
                Text="{Binding Folder3Path}"
                Watermark="输入文件夹3的路径" />
        </DockPanel>

        <!--  操作按钮和状态  -->
        <DockPanel Grid.Row="7">
            <Button
                Margin="0,10,10,10"
                Command="{Binding CompareAndCopyCommand}"
                Content="开始比较并复制"
                IsEnabled="{Binding IsProcessing, Converter={x:Static converters:BoolConverters.Not}}" />
            <!--  状态信息  -->
            <TextBlock
                VerticalAlignment="Center"
                Text="{Binding StatusMessage}"
                TextWrapping="Wrap" />
        </DockPanel>
        <ListBox
            Grid.Row="8"
            ItemsSource="{Binding CopyMessageList}" />
    </Grid>
</Window>